<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Задача 9</h1>
    <p>
      Морський бій. Користувач вводить кількість клітинок одновимірного масиву
      та кількість одиночних кораблів. Комп’ютер довільно розміщує ці одиночні
      кораблі у масиві по один у клітинці (якщо у клітинці 0, то клітинка пуста,
      якщо 1 – то це означає, що там є корабель). Користувач вводить номер
      клітинки, куди стріляє. Гра продовжується до тих пір, поки не будуть
      потоплені усі кораблі.
    </p>
    <script>
      // Введення данних
      const cellsNumber = parseInt(prompt("Вкажіть кількість клітинок на полі"))
      const shipsNumber = parseInt(
        prompt("Вкажіть кількість одиночних кораблів")
      )
      //Функція_1. Створення масиву
      function getArray(cellsNumber, shipsNumber) {
        let array = []
        const minNumber = 0
        const maxNumber = 1
        let counter_0 = 0 //лічильник для кількості нулів
        let counter_1 = 0 //лічильник для кількості одиниць
        const quantityNulls = cellsNumber - shipsNumber //перспективна кількість нулів в масиві
        for (let i = 0; i < cellsNumber; i++) {
          const randomNumber =
            minNumber + Math.floor(Math.random() * (maxNumber - minNumber + 1))
          if (randomNumber === 1 && counter_1 !== shipsNumber) {
            array.push(randomNumber)
            counter_1++
          } else if (randomNumber === 0 && counter_0 < quantityNulls) {
            array.push(randomNumber)
            counter_0++
          } else if (counter_0 >= quantityNulls) array.push(1)
          else array.push(0)
        }
        return array
      }
      //=========================Ще 1 варіант==================================
      // //1.Створюється масив, заповнений нулями(0)
      //       function getArrayWith0(cellsNumber) {
      //         let array = []
      //         for (let i = 0; i < cellsNumber; i++) array.push(0)
      //         return array
      //       }
      //       let arrayWith0 = getArrayWith0(cellsNumber)
      //       //2.Заповнюємо масив одиницями(1)
      //       function getFilledArray(shipsNumber, array) {
      //         const minNumber = 0
      //         const maxNumber = array.length - 1
      //         for (let i = 0; i < shipsNumber; ) {
      //           const randomNumber =
      //             minNumber + Math.floor(Math.random() * (maxNumber - minNumber + 1))
      //           if (array[randomNumber] === 1) {
      //             array[randomNumber] = 0
      //             i--
      //           } else {
      //             array[randomNumber] = 1
      //             i++
      //           }
      //         }
      //         return array
      //       }
      //       let array = getFilledArray(shipsNumber, arrayWith0)
      //=======================================================================================
      //Виклик функції_1
      let array = getArray(cellsNumber, shipsNumber)
      //Функція_2. Обчислення та виведення результату
      //Користувач вводить номер клітинки, куди стріляє. Гра продовжується до тих пір, поки не будуть потоплені усі кораблі.

      function resultOfGame(cellsNumber, shipsNumber, array) {
        let result
        let counter = shipsNumber //лічильник кількості потоплених кораблів
        alert("Починаємо бій!")
        while (counter !== 0) {
          const number = parseInt(
            prompt(`Введіть номер клітинки від 1 до ${cellsNumber}`)
          )
          if (array[number - 1] === 1) {
            array[number - 1] = 0
            counter--
            alert(`Втонув! Залишилось ${counter}`)
          } else alert("Мимо")
        }
        document.write("Вітаємо! Усі кораблі потоплені")
      }
      //Виклик функції_2
      let result = resultOfGame(cellsNumber, shipsNumber, array)
    </script>
  </body>
</html>
